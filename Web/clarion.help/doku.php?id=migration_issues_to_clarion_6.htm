<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>migration_issues_to_clarion_6.htm [Clarion Community Help]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="migration_issues_to_clarion_6.htm"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Clarion Community Help"/>
<link rel="start" href="/"/>
<link rel="contents" href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=index" title="Sitemap"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="/feed.php?mode=list&amp;ns="/>
<link rel="alternate" type="text/html" title="Plain HTML" href="/doku.php?do=export_xhtml&amp;id=migration_issues_to_clarion_6.htm"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/doku.php?do=export_raw&amp;id=migration_issues_to_clarion_6.htm"/>
<link rel="canonical" href="http://clarion.help/doku.php?id=migration_issues_to_clarion_6.htm"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=dokuwiki&amp;tseed=6c87f37cf2e26d7e09fa69b644b48db6"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"migration_issues_to_clarion_6.htm","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=dokuwiki&amp;tseed=6c87f37cf2e26d7e09fa69b644b48db6"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="/lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="/doku.php?id=start"  accesskey="h" title="[H]"><img src="/lib/exe/fetch.php?media=logo.png" width="354" height="103" alt="" /> <span>Clarion Community Help</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li class="action login"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=login&amp;sectok=" title="Log In" rel="nofollow"><span>Log In</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 17.25V14H3v-4h7V6.75L15.25 12 10 17.25M8 2h9a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-4h2v4h9V4H8v4H6V4a2 2 0 0 1 2-2z"/></svg></a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="/doku.php?id=start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="migration_issues_to_clarion_6.htm" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="migration_issues_to_clarion_6.htm" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Log In</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li class="action recent"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=recent" title="Recent Changes [r]" rel="nofollow" accesskey="r">Recent Changes</a></li><li class="action media"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=media&amp;ns=" title="Media Manager" rel="nofollow">Media Manager</a></li><li class="action index"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=index" title="Sitemap [x]" rel="nofollow" accesskey="x">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=clarionhelp_contents"  class="breadcrumbs" title="clarionhelp_contents">clarionhelp_contents</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=releasenoteshome"  class="breadcrumbs" title="releasenoteshome">releasenoteshome</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=thirdparty"  class="breadcrumbs" title="thirdparty">thirdparty</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=whats_new_in_clarion_10.htm"  class="breadcrumbs" title="whats_new_in_clarion_10.htm">whats_new_in_clarion_10.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=welcomeclarion.htm"  class="breadcrumbs" title="welcomeclarion.htm">welcomeclarion.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=gettingfamiliar.htm"  class="breadcrumbs" title="gettingfamiliar.htm">gettingfamiliar.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=quick_reference.htm"  class="breadcrumbs" title="quick_reference.htm">quick_reference.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=icon_quick_reference_guide.htm"  class="breadcrumbs" title="icon_quick_reference_guide.htm">icon_quick_reference_guide.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=installation_and_configuration_faqs.htm"  class="breadcrumbs" title="installation_and_configuration_faqs.htm">installation_and_configuration_faqs.htm</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="/doku.php?id=migration_issues_to_clarion_6.htm"  class="breadcrumbs" title="migration_issues_to_clarion_6.htm">migration_issues_to_clarion_6.htm</a></bdi></span></div>
                    </div>
    


    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>migration_issues_to_clarion_6.htm</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="table sectionedit1"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Navigation:</strong>  Upgrading from prior Clarion versions &gt;====== Clarion Win32 Migration Tips ====== </td><td class="col1"> <a href="/doku.php?id=installation_and_configuration_faqs.htm" class="media" title="installation_and_configuration_faqs.htm"><img src="/lib/exe/fetch.php?media=btn_prev_n.gif" class="media" title="Previous page" alt="Previous page" /></a><a href="/doku.php?id=coming_future.htm" class="media" title="coming_future.htm"><img src="/lib/exe/fetch.php?media=btn_home_n.gif" class="media" title="Return to chapter overview" alt="Return to chapter overview" /></a><a href="/doku.php?id=resolving_conversion_issues_from_c6_to_c7_applications.htm" class="media" title="resolving_conversion_issues_from_c6_to_c7_applications.htm"><img src="/lib/exe/fetch.php?media=btn_next_n.gif" class="media" title="Next page" alt="Next page" /></a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign" colspan="2">  </td>
	</tr>
</table></div>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=newc7.jpg" class="media" title="newc7.jpg"><img src="/lib/exe/fetch.php?media=newc7.jpg" class="media" title="NewC7.jpg" alt="NewC7.jpg" /></a>
</p>

<p>
<strong>This topic is designed as a quick reference for developers and programmers who are migrating applications to Clarion Win32 from versions prior to Clarion 6.</strong>
</p>

<p>
The following changes were documented in the Clarion 6 release notes and should be reviewed by developers migrating applications from versions <em>prior</em> to Clarion 6.<br/>

</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#changeevalerrcodes" class="wikilink1" title="migration_issues_to_clarion_6.htm">Change of EVALUATE Error Codes</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#defaultsplash" class="wikilink1" title="migration_issues_to_clarion_6.htm">Default Splash Procedure Icon</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#dllinit" class="wikilink1" title="migration_issues_to_clarion_6.htm">DLL Initialization</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#embedwhenclosingprocess" class="wikilink1" title="migration_issues_to_clarion_6.htm">Embedding code when closing a Process procedure</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#threadrules" class="wikilink1" title="migration_issues_to_clarion_6.htm">General Rules regarding your data and the new Thread Model</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#globeipclasses" class="wikilink1" title="migration_issues_to_clarion_6.htm">Global EIP Classes</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#globpool" class="wikilink1" title="migration_issues_to_clarion_6.htm">Global Pools and GROUPs</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#heapoverflow" class="wikilink1" title="migration_issues_to_clarion_6.htm">Heap Overflow Error when migrating applications</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#isamaccess" class="wikilink1" title="migration_issues_to_clarion_6.htm">ISAM File Access Performance</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#largewindow" class="wikilink1" title="migration_issues_to_clarion_6.htm">Large Window structures</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#largedics" class="wikilink1" title="migration_issues_to_clarion_6.htm">Migrating Large Dictionaries and Data Paths</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#handcodedprojects" class="wikilink1" title="migration_issues_to_clarion_6.htm">Migration of hand coded project files</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#pointerposition" class="wikilink1" title="migration_issues_to_clarion_6.htm">POINTER(File) and POSITION(File)</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#removemdidock" class="wikilink1" title="migration_issues_to_clarion_6.htm">Remove MDI attribute from dockable toolbar windows</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#rtftextchange" class="wikilink1" title="migration_issues_to_clarion_6.htm">RTF Text Control and RTF Control Templates</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#txacomparison" class="wikilink1" title="migration_issues_to_clarion_6.htm">TXA Comparison Technique</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#useerrormanagers" class="wikilink1" title="migration_issues_to_clarion_6.htm">Use of Error Managers during DLL Initialization</a></span>
</p>

<p>
<span class="curid"><a href="/doku.php?id=migration_issues_to_clarion_6.htm#abcclarion" class="wikilink1" title="migration_issues_to_clarion_6.htm">Use of ABC Classes with the Clarion template chain</a></span>
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Change of EVALUATE Error Codes</strong>
</p>

<p>
The error codes posted by the EVALUATE statement have been modified in Clarion 6:
</p>

<p>
1010 - formerly 800: Bad expression syntax
</p>

<p>
1011 - formerly 801: Unknown identifier in the expression
</p>

<p>
1012 - formerly 802: Mismatched POPBIND
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>Default Splash Procedure Icon</strong>
</p>

<p>
Loading a C55 application into Clarion 6 that uses the default splash screen will produce a link error that says &#039;C55.GIF&#039; not found.
</p>

<p>
The best workaround is to simply change the icon, or just delete the old splash procedure and add a new one using the Clarion 6 default.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>DLL Initialization</strong>
</p>

<p>
Enforcement of threaded variables in multi-DLL applications is critical in Clarion 6 and later versions. In versions pior to Clarion 6 if your file definitions are set to “open in current thread” in the dictionary (the THREAD attribute is set in the FILE definition), your file definitions in your DLLs must match that definition. To ensure this, examine each application&#039;s global file control section, and make sure that all of your files are set to &#039;ALL THREADED&#039; in the <strong>Threaded</strong> drop list.
</p>

<p>
Regarding files that are defined across multiple DLLs (e.g., a Customer file defined in a data DLL and again in another DLL), <strong><em>you CANNOT mix thread and non-threaded attributes on the same files in a multi-dll application</em></strong>. Although this programming style was permitted in earlier versions of Clarion, the initialization of preemptive threads will not allow this in Clarion 6.
</p>

<p>
You can use <em>either</em> setting, thread or non-threaded, as long as it&#039;s consistent across all DLLs and your executable. And, of course, mixing the threaded and non-threaded attributes among different files is still permitted.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>Embedding code when closing a Process procedure</strong>
</p>

<p>
The Process procedure used with the ABC templates calls ThisProcess.Close() after ThisWindow.Kill has fully completed. Consequently, any object created in the scope of the process window which is called inside ThisProcess.Close() will cause a GPF since the destructor for that object will already have completed during ThisWindow.Kill.
</p>

<p>
In Clarion 6, the ViewManager class destructor used with the ProcessClass is now calling ThisProcess.Close() to make sure that the VIEW is closed. This was not needed in previous versions of Clarion because local VIEWs were automatically closed when a procedure exited. With the new threading model, local VIEWs are now not automatically closed until the thread is destroyed.
</p>

<p>
There is a distinct chance that any call to a local object inside ThisWindow.Close() will cause a GPF when exiting the process procedure, because it has already been disposed by the time the final ThisProcess.Close() call happens.
</p>

<p>
Anyone embedding source code in the ThisWindow.Close() method needs to add some kind of condition surrounding any call to a local object that stops it happening after ThisWindow.Kill() has occurred.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>General Rules regarding your data and the new Thread Model</strong>
</p>

<p>
1.  Use the <a href="/doku.php?id=thread_set_thread_specific_memory_allocation_.htm" class="wikilink1" title="thread_set_thread_specific_memory_allocation_.htm">THREAD</a> attribute on global Data (file, class, group, queue or simple types).
</p>

<p>
2.  Use the THREAD attribute on module Data (file, class, group, queue or simple types).
</p>

<p>
3.  Avoid the use of static variables.
</p>

<p>
4.  Don&#039;t pass the address of anything within a <a href="/doku.php?id=start_return_new_execution_thread_.htm" class="wikilink1" title="start_return_new_execution_thread_.htm">START</a> command - this was a
</p>

<p>
common trick used by people to communicate between threads.
</p>

<p>
If you do any of the above you must make them thread safe. Refer to the <em>Multi Threaded Programming</em> PDF for detailed information on this process.
</p>

<p>
Local data (including classes that are normally instantiated locally) is automatically threaded (unless you put the STATIC attribute on it).
</p>

<p>
See Also:
</p>

<p>
<a href="/doku.php?id=data_initialization_schema.htm" class="wikilink1" title="data_initialization_schema.htm">Data Initialization Schema</a>
</p>

<p>
<a href="/doku.php?id=special_considerations_for_one_piece_single_executables.htm" class="wikilink1" title="special_considerations_for_one_piece_single_executables.htm">Special Considerations for One-Piece (Single) Executables</a>
</p>

<p>
<a href="/doku.php?id=create_create_ole_control_object_.htm" class="wikilink1" title="create_create_ole_control_object_.htm">OLE Controls and the new thread model</a>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Global EIP Classes</strong>
</p>

<p>
Some applications that use edit-in-place in prior versions will migrate to Clarion 6 with the <em>EditClass</em> defined as the default edit-in-place class. In Clarion 6, this class needs to be changed to the <em>EditEntryClass</em>. To do this, access the <em>Global Properties</em> in the Application Generator. In the <strong>C</strong><strong>lasses</strong> tab, press the <a href="/doku.php?id=global_properties.htm#lrzpr2" class="wikilink1" title="global_properties.htm">Browser</a> button and change the default edit in place class from <em>EditClass</em> to <em>EditEntryClass</em>.
</p>

<p>
<strong> </strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>Global Pools and GROUPs</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>In Clarion versions prior to 5.5H, if a GROUP were defined in the dictionary&#039;s Global Pool without using a prefix, the prefix of the Global Pool (which is required) would be used in its place.</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>For example:</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>GLOB:GROUPONE GROUP,PRE() !`GLOB&#039; is the prefix of the Global Pool</strong>
</p>

<p>
<strong>GLOB:STRING1   STRING(20)</strong>
</p>

<p>
<strong>GLOB:STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
With Clarion 6, this same group will be generated without the Global prefix, and would appear as follows:
</p>

<p>
<strong>GLOB:GROUPONE GROUP,PRE() !`GLOB&#039; is the prefix of the Global Pool</strong>
</p>

<p>
<strong>STRING1   STRING(20)</strong>
</p>

<p>
<strong>STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong>Since it is possible to define multiple Global Pools in your dictionary, a second Global Pool could be created as follows:</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>GLO2:GROUPTWO GROUP,PRE() !`GLO2&#039; is the prefix of the 2nd Global Pool</strong>
</p>

<p>
<strong>GLO2:STRING1   STRING(20)</strong>
</p>

<p>
<strong>GLO2:STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>Which in Clarion 6 will be generated as follows:</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>GLO2:GROUPTWO GROUP,PRE() !`GLO2&#039; is the prefix of the 2nd Global Pool</strong>
</p>

<p>
<strong>STRING1   STRING(20)</strong>
</p>

<p>
<strong>STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>This will cause the compiler to generate “Duplicate Label” warnings when migrating your applications.</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>The solution to this is to add a prefix to each of your GROUPs that share common label names across Global Pools.</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>For example:</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>GLOB:GROUPONE GROUP,PRE(GLOB) !`GLOB&#039; is the prefix of the 1st GROUP</strong>
</p>

<p>
<strong>STRING1   STRING(20)</strong>
</p>

<p>
<strong>STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong>GLO2:GROUPTWO GROUP,PRE(GLO2) !`GLO2&#039; is the prefix of the 2nd GROUP</strong>
</p>

<p>
<strong>STRING1   STRING(20)</strong>
</p>

<p>
<strong>STRING2   STRING(20)</strong>
</p>

<p>
<strong>END</strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>Heap Overflow Error when migrating applications</strong>
</p>

<p>
During the early testing phase of Clarion 6, it was noted that some applications would post a “Heap Overflow” error when attempting to load applications of prior Clarion versions into the Clarion 6 IDE.
</p>

<p>
In nearly all cases, the solution is to first export the application to a text file (TXA), and then import it as text into the Clarion 6 environment.
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>ISAM File Access Performance</strong>
</p>

<p>
Some users have reported that if there is any experience of slow file accesses when using ISAM files, switching off the <strong>Defer opening files until accessed</strong> in the application&#039;s <em>Global Properties</em> - <strong>File Control</strong> will improve the performance.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>Large WINDOW structures</strong>
</p>

<p>
In each control that is populated in a WINDOW structure in Clarion 6, there is now extra information for each control that takes about 10 extra bytes per control. This may cause some large and complex windows to not import properly from prior versions.
</p>

<p>
You may need to shorten some use variables or remove controls and create/destroy them at runtime or redesign the window to make it a bit more efficient.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Migrating Large Dictionaries and Data Paths</strong>
</p>

<p>
<strong>One of the nice new features of this release is a new system property:</strong>
</p>

<p>
<strong>SYSTEM{</strong><strong><a href="/doku.php?id=prop_datapath.htm" class="wikilink1" title="prop_datapath.htm">PROP:DataPath</a>}.</strong>
</p>

<p>
<strong>With this, you can set your data file names in the dictionary to have no path in them, and then set the data path once in the program start up. From there, each file will inherit the common data path.</strong>
</p>

<p>
<strong>With that in mind, dictionaries created in a prior version will continue to work. The only issue is where file names and structures are stored exclusively in a DLL and referenced from the EXE. In prior versions, you had to define these objects in the EXE as EXTERNAL, and did not care if the files in this object were threaded or not. In this release, any objects that contain threaded data must add the THREAD attribute to the object definition.</strong>
</p>

<p>
Mixing threaded and non-threaded data in an object is dangerous and likely to cause problems.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Migration of hand coded project files</strong>
</p>

<p>
All projects compiled in Clarion 6 are 32-bit. Prior to loading older project files (.PR or .PRJ) into the Clarion 6 environment, load them into your favorite text editor and make sure that the following pragma entry is set properly:
</p>

<p>
<strong>#system win32</strong>
</p>

<p>
You can also load the project into the project editor. When you press OK to close the project, the #system pragma will be automatically updated.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>POINTER(File) and POSITION(File)</strong>
</p>

<p>
The behavior of <a href="/doku.php?id=pointer_return_relative_record_position_.htm" class="wikilink1" title="pointer_return_relative_record_position_.htm">POINTER</a>(File) is different for different file systems. For example, the first record in a TopSpeed file doesn&#039;t have a pointer value of 1.
</p>

<p>
It may still be safe to use for certain file systems, but for code portability, <a href="/doku.php?id=position_return_record_sequence_position_.htm" class="wikilink1" title="position_return_record_sequence_position_.htm">POSITION</a>(File) is the way to go.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Remove MDI attribute from dockable toolbar windows</strong>
</p>

<p>
In Clarion 6, the MDI attribute is no longer permitted on any toolbar window that is dockable (windows with the <a href="/doku.php?id=dock_set_dockable_toolbox_window_.htm" class="wikilink1" title="dock_set_dockable_toolbox_window_.htm">DOCK</a> and <a href="/doku.php?id=toolbox_set_toolbox_window_behavior_.htm" class="wikilink1" title="toolbox_set_toolbox_window_behavior_.htm">TOOLBOX</a> attributes).
</p>

<p>
<strong> </strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>RTF Text Control and RTF Control Templates</strong>
</p>

<p>
To all developers that used the <a href="/doku.php?id=tplrtcontrol.htm" class="wikilink1" title="tplrtcontrol.htm">RTF Control</a> template in prior versions of Clarion, this template has been deprecated, and is now replaced by the new <a href="/doku.php?id=tplcontrolrtf.htm" class="wikilink1" title="tplcontrolrtf.htm">RTF Text Control</a> template.
</p>

<p>
The RTF Control template is still included for users who wish to migrate their applications to Clarion 6, and avoid unnecessary template warnings or errors. Upon migration to Clarion 6, you will notice a message in the <strong>Actions </strong>tab of the control&#039;s properties that notifies you that this template should be replaced. You will also see a warning at source generation time that notifies you that this template has been deprecated.
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a><strong> </strong><strong>TXA Comparison Technique</strong>
</p>

<p>
<strong>If you are having troubles with applications converted to Clarion 6 using DLLs, there is a possibility that the DLL that was converted contained hidden information (like a third party library) that was not detected by the conversion process.</strong>
</p>

<p>
To confirm this, try the following:
</p>

<p>
Export the old DLL application to TXA format (Export Text)
</p>

<p>
Export a new Clarion 6 DLL application to TXA format (Export Text)
</p>

<p>
<strong>Next, compare the TXA&#039;s up through the first procedure (i.e., the program/global area). This might give you some ideas regarding information converted from an old application that may not be compatible, or does not exist in Clarion 6.</strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Use of Error Managers during</strong> <strong>DLL Initialization</strong>
</p>

<p>
A change has also been made in the DLL initialization of ABC-based applications. During initialization, the DLL uses a LocalErrors Class rather than the Global executable&#039;s GlobalErrors Class.
</p>

<p>
For example, in a multi DLL application and during initialization of the DLL containing Global data, if errors need to be posted to the error manager, they will be posted to the DLL&#039;s local error manager (LocalErrors) instead of the application&#039;s global error manager. The reason for this is that the DLL&#039;s error manager is not set to use the application&#039;s error manager until <em>after</em> initialization of the DLL. <em>During</em> initialization, the DLL uses the LocalErrors Manager rather than the executable&#039;s GlobalErrors Manager. Inside the DLL <em>Init</em> procedure, extra code is generated to assign GlobalErrors, and also assign the passed error manager to the already initialized file managers and relation managers.
</p>

<p>
<strong>Developers who modified the global error manager in their applications using DLLs will now need to be aware of the new local error managers that are applied.</strong>
</p>

<p>
<a href="/lib/exe/detail.php?id=migration_issues_to_clarion_6.htm&amp;media=trumpet.jpg" class="media" title="trumpet.jpg"><img src="/lib/exe/fetch.php?media=trumpet.jpg" class="media" title="trumpet.jpg" alt="trumpet.jpg" /></a> <strong>Use of ABC Classes with Clarion template based applications</strong>
</p>

<p>
<strong>This release of Clarion includes many new template features that are now supported in the Clarion template chain, but rely on the use of the ABC Library Classes. Examples of this are the support for RTF Text Controls, Pop-up Calendars, and the new enhanced edit-in-place.</strong>
</p>

<p>
The linking of the ABC class support requires the following default pragmas settings to be included in the project system:
</p>

<p>
<strong>_ABCDllMode_⇒0</strong>
</p>

<p>
<strong>_ABCLinkMode_⇒1</strong>
</p>

<p>
Template support to automatically include these pragmas can be found in the <em>Global Properties</em> <strong>Classes</strong> tab by checking the <strong>Enable the use of ABC Classes</strong> check box.
</p>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>migration_issues_to_clarion_6.htm.txt</bdi> · Last modified: 2021/04/15 15:57 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li class="source"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=edit" title="Show pagesource [v]" rel="nofollow" accesskey="v"><span>Show pagesource</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"/></svg></a></li><li class="revs"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=revisions" title="Old revisions [o]" rel="nofollow" accesskey="o"><span>Old revisions</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"/></svg></a></li><li class="backlink"><a href="/doku.php?id=migration_issues_to_clarion_6.htm&amp;do=backlink" title="Backlinks" rel="nofollow"><span>Backlinks</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"/></svg></a></li><li class="top"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" accesskey="t"><span>Back to top</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="/lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="https://www.dokuwiki.org/donate" title="Donate" ><img
            src="/lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="https://php.net" title="Powered by PHP" ><img
            src="/lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="//validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="/lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="//jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="/lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="https://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="/lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="/lib/exe/indexer.php?id=migration_issues_to_clarion_6.htm&amp;1631826210" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
