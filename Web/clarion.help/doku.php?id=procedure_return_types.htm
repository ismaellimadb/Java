<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>procedure_return_types.htm [Clarion Community Help]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="procedure_return_types.htm"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Clarion Community Help"/>
<link rel="start" href="/"/>
<link rel="contents" href="/doku.php?id=procedure_return_types.htm&amp;do=index" title="Sitemap"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="/feed.php?mode=list&amp;ns="/>
<link rel="alternate" type="text/html" title="Plain HTML" href="/doku.php?do=export_xhtml&amp;id=procedure_return_types.htm"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/doku.php?do=export_raw&amp;id=procedure_return_types.htm"/>
<link rel="canonical" href="http://clarion.help/doku.php?id=procedure_return_types.htm"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=dokuwiki&amp;tseed=6c87f37cf2e26d7e09fa69b644b48db6"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"procedure_return_types.htm","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=dokuwiki&amp;tseed=6c87f37cf2e26d7e09fa69b644b48db6"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="/lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="/doku.php?id=start"  accesskey="h" title="[H]"><img src="/lib/exe/fetch.php?media=logo.png" width="354" height="103" alt="" /> <span>Clarion Community Help</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li class="action login"><a href="/doku.php?id=procedure_return_types.htm&amp;do=login&amp;sectok=" title="Log In" rel="nofollow"><span>Log In</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 17.25V14H3v-4h7V6.75L15.25 12 10 17.25M8 2h9a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-4h2v4h9V4H8v4H6V4a2 2 0 0 1 2-2z"/></svg></a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="/doku.php?id=start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="procedure_return_types.htm" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="procedure_return_types.htm" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Log In</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li class="action recent"><a href="/doku.php?id=procedure_return_types.htm&amp;do=recent" title="Recent Changes [r]" rel="nofollow" accesskey="r">Recent Changes</a></li><li class="action media"><a href="/doku.php?id=procedure_return_types.htm&amp;do=media&amp;ns=" title="Media Manager" rel="nofollow">Media Manager</a></li><li class="action index"><a href="/doku.php?id=procedure_return_types.htm&amp;do=index" title="Sitemap [x]" rel="nofollow" accesskey="x">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=code_begin_executable_statements_.htm"  class="breadcrumbs" title="code_begin_executable_statements_.htm">code_begin_executable_statements_.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=data_begin_routine_local_data_section_.htm"  class="breadcrumbs" title="data_begin_routine_local_data_section_.htm">data_begin_routine_local_data_section_.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=routine_declare_local_subroutine_.htm"  class="breadcrumbs" title="routine_declare_local_subroutine_.htm">routine_declare_local_subroutine_.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=end_terminate_a_structure_.htm"  class="breadcrumbs" title="end_terminate_a_structure_.htm">end_terminate_a_structure_.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=statement_execution_sequence.htm"  class="breadcrumbs" title="statement_execution_sequence.htm">statement_execution_sequence.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=procedure_calls.htm"  class="breadcrumbs" title="procedure_calls.htm">procedure_calls.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=procedure_prototypes.htm"  class="breadcrumbs" title="procedure_prototypes.htm">procedure_prototypes.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=prototype_syntax.htm"  class="breadcrumbs" title="prototype_syntax.htm">prototype_syntax.htm</a></bdi> <span class="bcsep">•</span> <bdi><a href="/doku.php?id=prototype_parameter_lists.htm"  class="breadcrumbs" title="prototype_parameter_lists.htm">prototype_parameter_lists.htm</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="/doku.php?id=procedure_return_types.htm"  class="breadcrumbs" title="procedure_return_types.htm">procedure_return_types.htm</a></bdi></span></div>
                    </div>
    


    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>procedure_return_types.htm</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="table sectionedit1"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>Navigation:</strong>  <a href="/doku.php?id=introduction.htm" class="wikilink1" title="introduction.htm">Language Reference</a> &gt; 2 - Program Source Code Format &gt; PROCEDURE Prototypes &gt;====== PROCEDURE Return Types ====== </td><td class="col1"> <a href="/doku.php?id=prototype_parameter_lists.htm" class="media" title="prototype_parameter_lists.htm"><img src="/lib/exe/fetch.php?media=btn_prev_n.gif" class="media" title="Previous page" alt="Previous page" /></a><a href="/doku.php?id=introduction.htm" class="media" title="introduction.htm"><img src="/lib/exe/fetch.php?media=btn_home_n.gif" class="media" title="Return to chapter overview" alt="Return to chapter overview" /></a><a href="/doku.php?id=prototype_attributes.htm" class="media" title="prototype_attributes.htm"><img src="/lib/exe/fetch.php?media=btn_next_n.gif" class="media" title="Next page" alt="Next page" /></a> </td>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign" colspan="2">  </td>
	</tr>
</table></div>

<p>
A PROCEDURE prototyped with a return value must RETURN a value. The data type to return is listed, separated by a comma, after the optional parameter list.
</p>

<p>
<strong>Value RETURN types:</strong>
</p>
<div class="table sectionedit2"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>BYTE</strong> </td><td class="col1"> <strong>SHORT</strong> </td><td class="col2"> <strong>USHORT</strong> </td><td class="col3"> <strong>LONG</strong> </td><td class="col4"> <strong>ULONG</strong> </td><td class="col5"> <strong>SREAL</strong> </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>REAL</strong> </td><td class="col1"> <strong>DATE</strong> </td><td class="col2"> <strong>TIME</strong> </td><td class="col3"> <strong>STRING</strong> </td><td class="col4"> <strong>Untyped value-parameter(?)</strong> </td><td class="col5 leftalign">  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>CSTRING</strong> </td><td class="col1"> <strong>USTRING</strong> </td><td class="col2"> <strong>BSTRING</strong> </td><td class="col3 leftalign">  </td><td class="col4 leftalign">  </td><td class="col5 leftalign">  </td>
	</tr>
</table></div>

<p>
An untyped value-parameter return value (?) indicates the data type of the value returned by the PROCEDURE is not known. This functions in exactly the same manner as an untyped value-parameter. When the value is returned from the PROCEDURE, standard Clarion Data Conversion Rules apply, no matter what data type is returned.
</p>

<p>
<strong>Variable RETURN types:</strong>
</p>
<div class="table sectionedit3"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>CSTRING</strong> </td><td class="col1"> <strong>*STRING</strong> </td><td class="col2"> <strong>*BYTE</strong> </td><td class="col3"> <strong>*SHORT</strong> </td><td class="col4"> <strong>*USHORT</strong> </td><td class="col5"> <strong>*LONG</strong> </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>*ULONG</strong> </td><td class="col1"> <strong>*SREAL</strong> </td><td class="col2"> <strong>*REAL</strong> </td><td class="col3"> <strong>*DATE</strong> </td><td class="col4"> <strong>*TIME</strong> </td><td class="col5 leftalign">  </td>
	</tr>
</table></div>

<p>
<strong>Untyped variable-parameter (*?)</strong>
</p>

<p>
Variable return types are provided just for prototyping external library functions (written in another language) which return only the address of data–they are not valid for use on Clarion language procedures.
</p>

<p>
Functions which return pointers (the address of some data) should be prototyped with an asterisk prepended to the return data type. The compiler automatically handles the returned pointer at runtime. Functions prototyped this way act just like a variable defined in the program–when the function is used in Clarion code, the data referenced by the returned pointer is automatically used. This data can be assigned to other variables, passed as parameters to procedures, or the ADDRESS function may return the address of the data.
</p>

<p>
CSTRING is an exception because all the others are fixed length datums, and a CSTRING is not. So, any C function that returns a pointer to a CSTRING can be prototyped as “char *” at the C end, but the compiler thunks the procedure and copies the datum onto the stack. Therefore, just like the other pointer return values, when the function is used in Clarion code the data referenced by the returned pointer is automatically used (the pointer is dereferenced).
</p>

<p>
As an example of this, assume that the XYZ() function returns a pointer to a CSTRING, CStringVar is a CSTRING variable, and LongVar is a LONG variable. The simple Clarion assignment statement, CStringVar = XYZ(), places the data referenced by the XYZ() function&#039;s returned pointer, in the CStringVar variable. The assignment, LongVar = ADDRESS(XYZ()), places the memory address of that data in the LongVar variable.
</p>

<p>
An untyped variable-parameter return value (*?) indicates the data type of the variable returned by the PROCEDURE is not known. This functions in exactly the same manner as an untyped variable-parameter.
</p>

<p>
<strong>Reference RETURN types:</strong>
</p>
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<td class="col0"> <strong>*FILE</strong> </td><td class="col1"> <strong>*KEY</strong> </td><td class="col2"> <strong>*WINDOW</strong> </td><td class="col3"> <strong>*VIEW</strong> </td>
	</tr>
</table></div>

<p>
<strong>Named CLASS (</strong><strong>*<em>ClassName</em></strong><strong>)</strong>
</p>

<p>
<strong>Named QUEUE (</strong><strong>*<em>QueueName</em></strong><strong>)</strong>
</p>

<p>
A PROCEDURE may return a reference which may either be assigned to a reference variable, or used in a parameter list wherever the referenced object would be appropriate. A PROCEDURE that returns *WINDOW may also return the label of an APPLICATION or REPORT structure. NULL is a valid value to return.
</p>

<p>
<strong>Example:</strong>
</p>

<p>
<strong> MAP</strong>
</p>

<p>
<strong>  MODULE(&#039;Party3.Obj&#039;) !A third-party library</strong>
</p>

<p>
<strong>Func46 PROCEDURE(*CSTRING),REAL,C,RAW </strong>
</p>

<p>
<strong>                       !Pass CSTRING address-only to C function, return REAL</strong>
</p>

<p>
<strong>Func47 PROCEDURE(*CSTRING),CSTRING,C,RAW </strong>
</p>

<p>
<strong>                       !Returns pointer to a CSTRING</strong>
</p>

<p>
<strong>Func48 PROCEDURE(REAL),REAL,PASCAL </strong>
</p>

<p>
<strong>                       !PASCAL calling convention, return REAL</strong>
</p>

<p>
<strong>Func49 PROCEDURE(SREAL),REAL,C,NAME(&#039;_func49&#039;)</strong>
</p>

<p>
<strong>                       !C convention and external function name, return REAL</strong>
</p>

<p>
<strong>  END</strong>
</p>

<p>
<strong> END</strong>
</p>

<p>
<strong>See Also:</strong>
</p>

<p>
<a href="/doku.php?id=map_declare_procedure_prototypes_.htm" class="wikilink1" title="map_declare_procedure_prototypes_.htm">MAP</a>
</p>

<p>
<a href="/doku.php?id=member_identify_member_source_file_.htm" class="wikilink1" title="member_identify_member_source_file_.htm">MEMBER</a>
</p>

<p>
<a href="/doku.php?id=module_specify_member_source_file_.htm" class="wikilink1" title="module_specify_member_source_file_.htm">MODULE</a>
</p>

<p>
<a href="/doku.php?id=name_set_prototype_s_external_name_.htm" class="wikilink1" title="name_set_prototype_s_external_name_.htm">NAME</a>
</p>

<p>
<a href="/doku.php?id=procedure_define_a_procedure_.htm" class="wikilink1" title="procedure_define_a_procedure_.htm">PROCEDURE</a>
</p>

<p>
<a href="/doku.php?id=return_return_to_caller_.htm" class="wikilink1" title="return_return_to_caller_.htm">RETURN</a>
</p>

<p>
<a href="/doku.php?id=reference_variables.htm" class="wikilink1" title="reference_variables.htm">Reference Variables</a>
</p>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>procedure_return_types.htm.txt</bdi> · Last modified: 2021/04/15 15:57 (external edit)</div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li class="source"><a href="/doku.php?id=procedure_return_types.htm&amp;do=edit" title="Show pagesource [v]" rel="nofollow" accesskey="v"><span>Show pagesource</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"/></svg></a></li><li class="revs"><a href="/doku.php?id=procedure_return_types.htm&amp;do=revisions" title="Old revisions [o]" rel="nofollow" accesskey="o"><span>Old revisions</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"/></svg></a></li><li class="backlink"><a href="/doku.php?id=procedure_return_types.htm&amp;do=backlink" title="Backlinks" rel="nofollow"><span>Backlinks</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"/></svg></a></li><li class="top"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" accesskey="t"><span>Back to top</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="/lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="https://www.dokuwiki.org/donate" title="Donate" ><img
            src="/lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="https://php.net" title="Powered by PHP" ><img
            src="/lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="//validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="/lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="//jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="/lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="https://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="/lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="/lib/exe/indexer.php?id=procedure_return_types.htm&amp;1631826398" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
